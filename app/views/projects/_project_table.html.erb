<table id="projects">
	<thead>
		<tr>
			<th>Received</th>
    	<th>Name</th>
    	<th>Region</th>
    	<th>Sector</th>
    	<th>Energy Access</th>
    	<th></th>
		</tr>
  </thead>
</table>

<script>
$(document).ready(function() {
	$('#projects').dataTable({
		"bProcessing": true,
		"bPaginate": false,
		"sAjaxSource": "<%= request.url %>.json",
		"sAjaxDataProp": "projects",
		"aoColumns": [
			{"sWidth":"100px", "fnRender":function(oObj) { return '$'+to_currency(oObj.aData['live_received']); }, "sType":"currency", "asSorting":["desc","asc"] },
			{"fnRender":function(oObj) { return '<a href="'+oObj.aData['url']+'">'+oObj.aData['name']+'</a>'; }},
			{"sWidth":"100px", "mDataProp":"region"},
			{"sWidth":"100px", "mDataProp":"sector"},
			{"sWidth":"50px", "fnRender":function(oObj) { return oObj.aData['access?']; }},
		]
	});
} );
</script>